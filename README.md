# Telegram Clothing Store Bot

Telegram бот для интернет-магазина одежды с полным функционалом каталога, корзины, оформления заказов и админ-панели.

## Технологический стек

- **Python 3.11+**
- **aiogram 3.4.1** - фреймворк для Telegram ботов
- **SQLAlchemy 2.0** - ORM для работы с базой данных
- **Alembic** - миграции базы данных
- **Pydantic** - валидация данных и настроек
- **Loguru** - логирование
- **PostgreSQL** / **SQLite** - база данных
- **Redis** (опционально) - хранилище для FSM

## Структура проекта

```
telegram-clothing-store/
├── bot/
│   ├── config/          # Конфигурация приложения
│   ├── database/        # Модели и настройки БД
│   ├── handlers/        # Обработчики команд и callback
│   ├── keyboards/       # Клавиатуры (inline и reply)
│   ├── states/          # FSM состояния
│   ├── services/        # Бизнес-логика
│   ├── filters/         # Фильтры для handlers
│   ├── middlewares/     # Middleware
│   ├── utils/           # Вспомогательные утилиты
│   └── texts/           # Текстовые сообщения
├── media/               # Медиа файлы
├── logs/                # Логи приложения
├── alembic/             # Миграции БД
└── tests/               # Тесты
```

## Быстрый старт

### 1. Установка зависимостей

```bash
# Создание виртуального окружения
python -m venv venv

# Активация виртуального окружения
# Linux/macOS:
source venv/bin/activate
# Windows:
venv\Scripts\activate

# Установка зависимостей
pip install -r requirements.txt
```

### 2. Настройка переменных окружения

Скопируйте `.env.example` в `.env` и заполните необходимые переменные:

```bash
cp .env.example .env
```

Обязательные переменные:
- `BOT_TOKEN` - токен бота от [@BotFather](https://t.me/BotFather)
- `ADMIN_TELEGRAM_IDS` - ID администраторов (можно узнать у [@userinfobot](https://t.me/userinfobot))

### 3. Запуск бота

```bash
python -m bot.main
```

## Функционал

### Для пользователей:
- Просмотр каталога товаров по категориям
- Просмотр детальной информации о товаре
- Выбор вариантов (размер, цвет)
- Добавление товаров в корзину
- Управление корзиной
- Оформление заказа (FSM с валидацией)
- Профиль с историей заказов
- Уведомления о статусе заказа

### Для администраторов:
- Управление категориями (CRUD)
- Управление товарами (CRUD)
- Загрузка изображений товаров
- Управление вариантами товаров
- Просмотр и управление заказами
- Изменение статусов заказов
- Автоматические уведомления клиентам

## Разработка

### Миграции базы данных

```bash
# Создание новой миграции
alembic revision --autogenerate -m "описание изменений"

# Применение миграций
alembic upgrade head

# Откат миграции
alembic downgrade -1
```

### Тестирование

```bash
pytest
```

## Лицензия

MIT

## Автор

Разработано с использованием Claude Code
